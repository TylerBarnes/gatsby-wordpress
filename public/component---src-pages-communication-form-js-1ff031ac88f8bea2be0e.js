(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{JYde:function(e,t,a){"use strict";var l=a("vOnD"),n=a("jWQi"),i=l.a.hr.withConfig({displayName:"MobileHr",componentId:"sc-1w7ywyu-0"})(["width:",";margin-bottom:0;"],n.e.laptopS);t.a=i},g6NL:function(e,t,a){"use strict";a.r(t);var l=a("q1tI"),n=a.n(l),i=a("5Yp1"),o=(a("rGqo"),a("yt8O"),a("Btvt"),a("RW0V"),a("SRfc"),a("91GP"),a("+q3T")),s=a("vOnD"),r=a("jWQi"),d=s.a.div.withConfig({displayName:"StyledCommunicationForm",componentId:"sc-32fe0s-0"})(["width:100%;margin:0 auto;padding:0 ",";max-width:528px;font-family:",";font-size:",";color:",";font-weight:bold;font-style:italic;text-align:center;@media screen and ","{font-size:",";}label{display:block;margin-bottom:",";@media screen and ","{margin-bottom:",";}}input{display:block;width:100%;border:0;border-bottom:2px solid ",";text-align:center;padding-bottom:",";margin-bottom:",';}input[type="submit"]{',";margin-top:",";&:first-of-type{margin-top:",";}&:disabled{color:grey;}}fieldset{border:none;&.hiddenfields{display:none;}&.active{animation:fadeIn ease 1.5s;}}@keyframes fadeIn{0%{opacity:0;visibility:hidden;}100%{opacity:1;visibility:visible;}}"],r.f.s32,r.c.eaves,r.f.s36,r.b.titleColor,r.a.tabletS,r.f.s42,r.f.s24,r.a.tabletS,r.f.s32,r.b.bgRed,r.f.s8,r.f.s32,r.d.buttons,r.f.s58,r.f.s58);function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var c=function(e){var t,a;function l(t){var a;return(a=e.call(this,t)||this).handleBlur=function(e){return function(t){var l;a.setState({touched:Object.assign({},a.state.touched,(l={},l[e]=!0,l))})}},a.handleNameChange=function(e,t){var l;a.setState(Object.assign({},a.state,((l={})[e]=t,l)),a.validateName(e,t))},a.validateEmail=function(e,t){var l,n=a.state[e],i=!0,o="";/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n)||(i=!1,o="Email validation failed."),console.log("errorMsg: ",o),console.log(e,"  valid? ",i),console.log("valid by fieldname (",t,"): ",a.state[t]),a.setState(((l={})[t]=i,l),a.validateForm)},a.validateName=function(e,t){var l,n=a.state[e];console.log("validateName got this value from saved state for ",e,": ",n);var i=a.state.touched[e];console.log("field: ",e,", touched: ",i,"new val: ",n);var o=!0,s="";n.length<2&&(console.log("too short"),o=!1,s="Must be at least 2 characters long"),n.match(/^[A-Za-z @-]+$/)||(console.log("bad char found"),o=!1,s="Only letters, spaces and hyphens are allowed."),console.log("errorMsg: ",s),console.log(e,"  valid? ",o),console.log("valid by fieldname (",t,"): ",a.state[t]),a.setState(((l={})[t]=o,l),a.validateForm)},a.validateForm=function(){var e=a.state,t=e.firstnameValid,l=e.lastnameValid,n=e.emailValid,i=e.postalcodeValid;console.log("firstname valid: ",t,", lastname valid: ",l),console.log("are all fields valid? ",t&&l),a.setState({formValid:t&&l&&n&&i})},a.handleFirstnameChange=function(e){a.setState({firstname:e.target.value})},a.handleLastnameChange=function(e){a.setState({lastname:e.target.value})},a.handleEmailChange=function(e){a.setState({email:e.target.value})},a.handlePostalcodeChange=function(e){a.setState({postalcode:e.target.value})},a.shouldShowForm=function(){return a.state.firstname.length>1},a.formIsValid=function(){var e=a.valid.firstname&&a.valid.lastname;return console.log("formIsValid: ",e),e},a.handleSubmit=function(e){if(!a.canBeSubmitted())return console.log("no."),void e.preventDefault();var t=a.state,l=t.firstname,n=t.lastname,i=t.email,o=t.postalcode;alert("Signed up with firstname: "+l+", lastname: "+n+", email: "+i+", postalcode: "+o)},a.canBeSubmitted=function(){var e,t,l,n,i=(e=a.state.firstname,t=a.state.lastname,l=a.state.email,n=a.state.postalcode,{firstname:0===e.length,lastname:0===t.length,email:0===l.length,postalcode:0===n.length});return!Object.keys(i).some((function(e){return i[e]}))},a.state={firstname:"",lastname:"",email:"",postalcode:"",errorMsg:{},touched:{firstname:!1,lastname:!1,email:!1,postalcode:!1},firstnameValid:!1,lastnameValid:!1,emailValid:!1,postalcodeValid:!1,gnameValid:!1,formValid:!1},a.shouldShowForm=a.shouldShowForm.bind(m(a)),a.handleSubmit=a.handleSubmit.bind(m(a)),a}a=e,(t=l).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var i=l.prototype;return i.componentDidUpdate=function(e,t){console.log("did update: ",this.state),this.state.firstname&&t.firstname!==this.state.firstname&&(console.log("validating firstname because ",t.firstname,"...",this.props.firstname),this.validateName("firstname","firstnameValid")),this.state.lastname&&t.lastname!==this.state.lastname&&(console.log("validating lastname because ",t.lastname,"...",this.props.lastname),this.validateName("lastname","lastnameValid")),this.state.email&&t.email!==this.state.email&&(console.log("validating email because ",t.email,"...",this.props.email),this.validateEmail("email","emailValid")),this.state.postalcode&&t.postalcode!==this.state.postalcode&&(console.log("validating postalcode"),console.log("validating postalcode because ",t.postalcode,"...",this.props.postalcode),this.validateName("postalcode","postalcodeValid"))},i.render=function(){return n.a.createElement(o.a,{preheading:"Sign up for WAA Communications"},n.a.createElement(d,null,n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("fieldset",null,n.a.createElement("label",{htmlFor:"firstname"},"My name is"),n.a.createElement("input",{type:"text",onKeyPress:this.shouldShowForm,onChange:this.handleFirstnameChange,onBlur:this.handleBlur("firstname"),value:this.state.firstname,name:"firstname",id:"firstname",placeholder:"First Name"})),n.a.createElement("fieldset",{className:this.shouldShowForm()?"active":"hiddenfields",id:"hiddenfields"},n.a.createElement("input",{type:"text",name:"lastname",id:"lastname",placeholder:"Last Name",value:this.state.lastname,onChange:this.handleLastnameChange,onBlur:this.handleBlur("lastname")}),n.a.createElement("label",{htmlFor:"emailaddress"},"My email is"),n.a.createElement("input",{type:"email",name:"emailaddress",id:"emailaddress",placeholder:"Email",value:this.state.email,onChange:this.handleEmailChange}),n.a.createElement("label",{htmlFor:"postalcode"},"My postal code is"),n.a.createElement("input",{type:"text",name:"postalcode",id:"postalcode",placeholder:"postal code",value:this.state.postalcode,onChange:this.handlePostalcodeChange})),n.a.createElement("div",{className:"label"},"and I Badger On."),n.a.createElement("fieldset",{className:this.shouldShowForm()?"active":"hiddenfields"},n.a.createElement("input",{type:"submit",name:"submitbutton",id:"submitbutton",value:"SUBMIT",disabled:!this.state.formValid})))))},l}(l.Component),h=a("trtx"),u=a("JYde");t.default=function(){return n.a.createElement(i.a,null,n.a.createElement(h.a,null,n.a.createElement(u.a,null)),n.a.createElement(h.a,{pad:!0},n.a.createElement("h1",null,"Communication Form"),n.a.createElement("h2",null,"Done so far:"),n.a.createElement("p",null,"After typing two characters into the First Name field, the rest of the form will reveal itself."),n.a.createElement("p",null,"After all fields have been entered (which currently means at least 2 characters in each field), the submit button will become active.",n.a.createElement("br",null),n.a.createElement("strong",null,"NOTE: use letters for the postal code field for now (proper validation to come later)")),n.a.createElement("h2",null,"Not done yet:"),n.a.createElement("ul",null,n.a.createElement("li",null,"Proper validation of all fields based on specific rules"),n.a.createElement("li",null,"Display of form validation messages"),n.a.createElement("li",null,"Addition of country dropdown, country/postal code interaction"))),n.a.createElement(c,null),n.a.createElement(h.a,null,n.a.createElement(u.a,null)))}},trtx:function(e,t,a){"use strict";var l=a("q1tI"),n=a.n(l),i=a("vOnD"),o=Object(i.a)((function(e){var t=e.className,a=e.pad,l=e.children,i=a?t+" "+t+"--pad":t;return n.a.createElement("div",{className:i},l)})).withConfig({displayName:"GenericPageSection__StyledGenericPageSection",componentId:"sc-1e2ca3-0"})(["background-color:pink;&--pad{padding:30px;}"]);t.a=o}}]);
//# sourceMappingURL=component---src-pages-communication-form-js-1ff031ac88f8bea2be0e.js.map