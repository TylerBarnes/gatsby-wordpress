(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{JYde:function(e,a,t){"use strict";var l=t("vOnD"),n=t("jWQi"),i=l.a.hr.withConfig({displayName:"MobileHr",componentId:"sc-1w7ywyu-0"})(["width:",";margin-bottom:0;"],n.e.laptopS);a.a=i},eIz5:function(e,a,t){"use strict";function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t.d(a,"a",(function(){return c}));var n=t("9Hrx"),i=t("q1tI"),o=t.n(i),s=t("+q3T"),r=t("vOnD"),d=t("jWQi"),m=r.a.div.withConfig({displayName:"StyledCommunicationForm",componentId:"sc-32fe0s-0"})(["width:100%;margin:0 auto;padding:0 ",";max-width:528px;font-family:",";font-size:",";color:",";font-weight:bold;font-style:italic;text-align:center;@media screen and ","{font-size:",";}label{display:block;margin-bottom:",";@media screen and ","{margin-bottom:",";}}input{display:block;width:100%;border:0;border-bottom:2px solid ",";text-align:center;padding-bottom:",";margin-bottom:",';}input[type="submit"]{',";margin-top:",";&:first-of-type{margin-top:",";}&:disabled{color:grey;}}fieldset{border:none;&.hiddenfields{display:none;}&.active{animation:fadeIn ease 1.5s;}}@keyframes fadeIn{0%{opacity:0;visibility:hidden;}100%{opacity:1;visibility:visible;}}"],d.f.s32,d.c.eaves,d.f.s36,d.b.titleColor,d.a.tabletS,d.f.s42,d.f.s24,d.a.tabletS,d.f.s32,d.b.bgRed,d.f.s8,d.f.s32,d.d.buttons,d.f.s58,d.f.s58);var c=function(e){function a(a){var t;return(t=e.call(this,a)||this).handleBlur=function(e){return function(a){var l;t.setState({touched:Object.assign({},t.state.touched,(l={},l[e]=!0,l))})}},t.handleNameChange=function(e,a){var l;t.setState(Object.assign({},t.state,((l={})[e]=a,l)),t.validateName(e,a))},t.validateEmail=function(e,a){var l,n=t.state[e],i=!0,o="";/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n)||(i=!1,o="Email validation failed."),console.log("errorMsg: ",o),console.log(e,"  valid? ",i),console.log("valid by fieldname (",a,"): ",t.state[a]),t.setState(((l={})[a]=i,l),t.validateForm)},t.validateName=function(e,a){var l,n=t.state[e];console.log("validateName got this value from saved state for ",e,": ",n);var i=t.state.touched[e];console.log("field: ",e,", touched: ",i,"new val: ",n);var o=!0,s="";n.length<2&&(console.log("too short"),o=!1,s="Must be at least 2 characters long"),n.match(/^[A-Za-z @-]+$/)||(console.log("bad char found"),o=!1,s="Only letters, spaces and hyphens are allowed."),console.log("errorMsg: ",s),console.log(e,"  valid? ",o),console.log("valid by fieldname (",a,"): ",t.state[a]),t.setState(((l={})[a]=o,l),t.validateForm)},t.validateForm=function(){var e=t.state,a=e.firstnameValid,l=e.lastnameValid,n=e.emailValid,i=e.postalcodeValid;console.log("firstname valid: ",a,", lastname valid: ",l),console.log("are all fields valid? ",a&&l),t.setState({formValid:a&&l&&n&&i})},t.handleFirstnameChange=function(e){t.setState({firstname:e.target.value})},t.handleLastnameChange=function(e){t.setState({lastname:e.target.value})},t.handleEmailChange=function(e){t.setState({email:e.target.value})},t.handlePostalcodeChange=function(e){t.setState({postalcode:e.target.value})},t.shouldShowForm=function(){return t.state.firstname.length>1},t.formIsValid=function(){var e=t.valid.firstname&&t.valid.lastname;return console.log("formIsValid: ",e),e},t.handleSubmit=function(e){if(!t.canBeSubmitted())return console.log("no."),void e.preventDefault();var a=t.state,l=a.firstname,n=a.lastname,i=a.email,o=a.postalcode;alert("Signed up with firstname: "+l+", lastname: "+n+", email: "+i+", postalcode: "+o)},t.canBeSubmitted=function(){var e,a,l,n,i=(e=t.state.firstname,a=t.state.lastname,l=t.state.email,n=t.state.postalcode,{firstname:0===e.length,lastname:0===a.length,email:0===l.length,postalcode:0===n.length});return!Object.keys(i).some((function(e){return i[e]}))},t.state={firstname:"",lastname:"",email:"",postalcode:"",errorMsg:{},touched:{firstname:!1,lastname:!1,email:!1,postalcode:!1},firstnameValid:!1,lastnameValid:!1,emailValid:!1,postalcodeValid:!1,gnameValid:!1,formValid:!1},t.shouldShowForm=t.shouldShowForm.bind(l(t)),t.handleSubmit=t.handleSubmit.bind(l(t)),t}Object(n.a)(a,e);var t=a.prototype;return t.componentDidUpdate=function(e,a){console.log("did update: ",this.state),this.state.firstname&&a.firstname!==this.state.firstname&&(console.log("validating firstname because ",a.firstname,"...",this.props.firstname),this.validateName("firstname","firstnameValid")),this.state.lastname&&a.lastname!==this.state.lastname&&(console.log("validating lastname because ",a.lastname,"...",this.props.lastname),this.validateName("lastname","lastnameValid")),this.state.email&&a.email!==this.state.email&&(console.log("validating email because ",a.email,"...",this.props.email),this.validateEmail("email","emailValid")),this.state.postalcode&&a.postalcode!==this.state.postalcode&&(console.log("validating postalcode"),console.log("validating postalcode because ",a.postalcode,"...",this.props.postalcode),this.validateName("postalcode","postalcodeValid"))},t.render=function(){return o.a.createElement(s.a,{preheading:"Sign up for WAA Communications",topBorder:!0},o.a.createElement(m,null,o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("fieldset",null,o.a.createElement("label",{htmlFor:"firstname"},"My name is"),o.a.createElement("input",{type:"text",onKeyPress:this.shouldShowForm,onChange:this.handleFirstnameChange,onBlur:this.handleBlur("firstname"),value:this.state.firstname,name:"firstname",id:"firstname",placeholder:"First Name"})),o.a.createElement("fieldset",{className:this.shouldShowForm()?"active":"hiddenfields",id:"hiddenfields"},o.a.createElement("input",{type:"text",name:"lastname",id:"lastname",placeholder:"Last Name",value:this.state.lastname,onChange:this.handleLastnameChange,onBlur:this.handleBlur("lastname")}),o.a.createElement("label",{htmlFor:"emailaddress"},"My email is"),o.a.createElement("input",{type:"email",name:"emailaddress",id:"emailaddress",placeholder:"Email",value:this.state.email,onChange:this.handleEmailChange}),o.a.createElement("label",{htmlFor:"postalcode"},"My postal code is"),o.a.createElement("input",{type:"text",name:"postalcode",id:"postalcode",placeholder:"postal code",value:this.state.postalcode,onChange:this.handlePostalcodeChange})),o.a.createElement("div",{className:"label"},"and I Badger On."),o.a.createElement("fieldset",{className:this.shouldShowForm()?"active":"hiddenfields"},o.a.createElement("input",{type:"submit",name:"submitbutton",id:"submitbutton",value:"SUBMIT",disabled:!this.state.formValid})))))},a}(i.Component)},g6NL:function(e,a,t){"use strict";t.r(a);var l=t("q1tI"),n=t.n(l),i=t("5Yp1"),o=t("eIz5"),s=t("trtx"),r=t("JYde");a.default=function(){return n.a.createElement(i.a,null,n.a.createElement(s.a,null,n.a.createElement(r.a,null)),n.a.createElement(s.a,{pad:!0},n.a.createElement("h1",null,"Communication Form"),n.a.createElement("h2",null,"Done so far:"),n.a.createElement("p",null,"After typing two characters into the First Name field, the rest of the form will reveal itself."),n.a.createElement("p",null,"After all fields have been entered (which currently means at least 2 characters in each field), the submit button will become active.",n.a.createElement("br",null),n.a.createElement("strong",null,"NOTE: use letters for the postal code field for now (proper validation to come later)")),n.a.createElement("h2",null,"Not done yet:"),n.a.createElement("ul",null,n.a.createElement("li",null,"Proper validation of all fields based on specific rules"),n.a.createElement("li",null,"Display of form validation messages"),n.a.createElement("li",null,"Addition of country dropdown, country/postal code interaction"))),n.a.createElement(o.a,null),n.a.createElement(s.a,null,n.a.createElement(r.a,null)))}},trtx:function(e,a,t){"use strict";var l=t("q1tI"),n=t.n(l),i=t("vOnD"),o=Object(i.a)((function(e){var a=e.className,t=e.pad,l=e.children,i=t?a+" "+a+"--pad":a;return n.a.createElement("div",{className:i},l)})).withConfig({displayName:"GenericPageSection__StyledGenericPageSection",componentId:"sc-1e2ca3-0"})(["background-color:pink;&--pad{padding:30px;}"]);a.a=o}}]);
//# sourceMappingURL=component---src-pages-communication-form-js-8fa6cf71fa3e13a7b1d4.js.map